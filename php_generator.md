# PHP的生成器(generator)的概念和用法
## 迭代
迭代即指反复执行一个过程，每执行一次叫做一次迭代；例如foreach()；
这样可以通过外部遍历其内部数据的对象就是一个迭代对象，其遵循的接口【统一访问接口】就是迭代**生成器**【Iterator】
生成器提供了一种更容易的方法来实现简单的对象迭代 ，相比较定义类实现Iterator接口的方式，性能开销和复杂度大大降低

## 生成器
假设PHP生成范围数组range()函数需要100M内存开销，那么使用生成器实现的xrange函数，只需要开销1k内存，性能提升十万倍

**yield**关键字表明一个生成器，也是生成器函数的核心
yield:让位、让行

实际上，生成器生成的正是一个迭代器对象实例，该迭代器对象继承了Iterator接口，同时也包含了生成器对象自身的接口

### return vs yield
- return 返回一次既定结果
- yield 不断产生直到无法产生为止才不反回
- return 中断当前进程并返回值
- yield 暂停当前进程的执行并返回值

## 协程
协程即双向传输\双向通讯

yield除了可以返回值外，还可以接收一个值

对于单核处理器，多任务的执行原理是让每一个任务执行一段时间，然后中断，让另一个任务执行，然后再中断后执行下一个任务，如此反复。由于其执行切换速度很快，外部不能感知，让外部认为多个任务实际上是“并行”的。


